<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Задание 2</title>
</head>
<body>
    <script>
        //Массив задающий шахматную доску
        const chessField = [
                                ["A1","B1","C1","D1","E1","F1","G1","H1"],
                                ["A2","B2","C2","D2","E2","F2","G2","H2"],
                                ["A3","B3","C3","D3","E3","F3","G3","H3"],
                                ["A4","B4","C4","D4","E4","F4","G4","H4"],
                                ["A5","B5","C5","D5","E5","F5","G5","H5"],
                                ["A6","B6","C6","D6","E6","F6","G6","H6"],
                                ["A7","B7","C7","D7","E7","F7","G7","H7"],
                                ["A8","B8","C8","D8","E8","F8","G8","H8"]
                            ]

        //Запрос у пользовтеля положения "Коня" на шахматной доске
        let positionHorse = prompt("Исходное положние:").toLocaleUpperCase;
        //Координаты клетки с "Конем" в массиве
        let rsPositionCell = positionCell(positionHorse);

        if (positionHorse === null || positionHorse == "" || positionHorse == " ") {
            alert (`Вы не указали позицию коня на доске. \n Укажите позицию коня на доске.`);
        } else {
            if (rsPositionCell["row"] !== -1 || rsPositionCell["clmn"] !== -1){
                alert(`Возможные варианты хода: \n ${[... possibleMoves(rsPositionCell)]}`);
            } else {
                alert (`Вы указали клетку ${positionHorse}. \n Такой клетки на шахматной доске нет! \n Укажите другую клетку.`);
            }
        }
        
        /* Функция, возвращающая координаты клетки в массиве
            Вход: cell - название клетки шахматной доски, заданную пользователем
            Выход: массив, с двумя значениями - ряд и столбец в массиве шахматной доски
        */
        function positionCell(cell){
            let rsPos = [];
            let row = parseInt(cell.split("")[1]);
            let clmn = 0;
            switch(cell.split("")[0]) {
                case "A":
                    clmn = 1;
                    break;
                case "B":
                    clmn = 2;
                    break;
                case "C":
                    clmn = 3;
                    break;
                case "D":
                    clmn = 4;
                    break;
                case "E":
                    clmn = 5;
                    break;
                case "F":
                    clmn = 6;
                    break;
                case "G":
                    clmn = 7;
                    break;
                case "H":
                    clmn = 8;
                    break;
                default:
                    clmn = -1;
                    break;
            }
            rsPos["row"] = (row < 9)?row:-1;
            rsPos["clmn"] = clmn;
            return rsPos;
        }

        /* Функция, возвращающая массив, содержащий название клеток шахматной доски, возможных ходов "Коня" по заданной позиции
            Вход: cell - массив, с индексами клетки, заданной пользователем
            Выход: массив с названиями клеток шахматной доски, куда можно сходить "конем"
        */
        function possibleMoves(cell){
            let movies = [];
            let row = cell["row"]-1;
            let column = cell["clmn"]-1;

            if((row+1) < 8 && (column+2) < 8){
                movies.push(chessField[row+1][column+2]);
            }
            if((row+1) < 8 && (column-2) >= 0){
                movies.push(chessField[row][column-2]);
            }
            if((row-1) >= 0 && (column+2) < 8){
                movies.push(chessField[row-1][column+2]);
            }
            if((row-1) >= 0 && (column-2) >= 0){
                movies.push(chessField[row-1][column-2]);
            }
            if((row+2) < 8 && (column-1) >= 0){
                movies.push(chessField[row+2][column-1]);
            }
            if((row+2) < 8 && (column+1) < 8){
                movies.push(chessField[row+2][column+1]);
            }
            if((row-2) >= 0 && (column-1) >= 0){
                movies.push(chessField[row-2][column-1]);
            }
            if((row-2) >= 0 && (column+1) < 8){
                movies.push(chessField[row-2][column+1]);
            }
            return movies;
        }

    </script>
</body>
</html>